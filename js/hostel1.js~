"use strict";

$(function () {
  var config = {
   apiKey: "AIzaSyAnraAxIGcHzllgame0p02Emvm7AOMvZs4",
    authDomain: "hostel-3f4b3.firebaseapp.com",
    databaseURL: "https://hostel-3f4b3.firebaseio.com",
    storageBucket: "hostel-3f4b3.appspot.com",
    messagingSenderId: "793294235692"
  };
  firebase.initializeApp(config);
  var state = {

    email: '',
    password: ''
  };
  $('.js-form').on('submit', function (event) {
   event.preventDefault();
    var email = $('#js-email').val() || state.email;
    var password = $('#js-password').val() || state.password;
    
    console.log(email, password);
    firebase.auth().signInWithEmailAndPassword(email, password).then(function (user) {
		firebase.auth().onAuthStateChanged(user => {
	if(user) {
      var url = "hostel_message.html";
     window.open(url, '_self');
  }
		});
     $(".js-form").trigger('reset');
    }).catch(function (error) {
      console.log(error);
    });
	

	});
  });
